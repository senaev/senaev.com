# Example snippets: how an application consumes secrets synced by ESO (no secrets in Helm values).
# These patterns are already used in helm/default (nextjs-app, grafana, webdav, default-serviceaccount).

# --- 1) Env vars from a Kubernetes Secret (created by ExternalSecret from Vault) ---
# In your Deployment spec.template.spec.containers[].env:
#
#   env:
#     - name: MY_API_KEY
#       valueFrom:
#         secretKeyRef:
#           name: app-secrets    # Secret created by ESO from Vault
#           key: MY_API_KEY
#     - name: DB_PASSWORD
#       valueFrom:
#         secretKeyRef:
#           name: app-secrets
#           key: DB_PASSWORD

# --- 2) imagePullSecrets from a Kubernetes Secret (created by ExternalSecret from Vault) ---
# In your Pod spec (or ServiceAccount):
#
#   spec:
#     serviceAccountName: default
#     containers: ...
#
# And the ServiceAccount:
#
#   apiVersion: v1
#   kind: ServiceAccount
#   metadata:
#     name: default
#     namespace: default
#   imagePullSecrets:
#     - name: ycr-pull    # Secret created by ESO from Vault (type: kubernetes.io/dockerconfigjson)

# The Secret names (app-secrets, ycr-pull) are declared by your ExternalSecret resources;
# the values come from Vault. Helm only declares *that* these secrets are needed.
